{"version":3,"sources":["services/persons.js","components/PersonForm.js","components/Filter.js","components/PersonList.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","newObject","req","post","r","console","log","id","put","delete","PersonForm","addName","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Filter","newFilter","handleFilterChange","DelButton","person","setPersons","persons","onClick","window","confirm","name","personService","catch","e","alert","filter","p","Person","number","PersonList","filtered","toLowerCase","includes","map","key","Notification","message","className","color","msg","App","useState","setNewName","setNewNumber","setNewFilter","setMessage","useEffect","data","event","target","preventDefault","length","returned","concat","setTimeout","oldP","find","editedP","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b4236462.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const req = axios.get(baseUrl)\r\n    return req.then(response => response)\r\n}\r\n\r\nconst create = (newObject) => {\r\n    const req = axios.post(baseUrl, newObject)\r\n    req.then(r => console.log(r))\r\n    //TODO: MUUTETTU\r\n    return req.then(response => response)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const req = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return req.then(response => response)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const req = axios.delete(`${baseUrl}/${id}`)\r\n    return req.then(response => response)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React from 'react'\n\nconst PersonForm = ({addName, newName, newNumber, handleNameChange, handleNumberChange}) => {\n  return (\n    <form onSubmit={addName}>\n      <div>\n          name: <input\n                  value={newName}\n                  onChange={handleNameChange}\n                />\n        </div>\n        <div>\n          number: <input\n                  value={newNumber}\n                  onChange={handleNumberChange}\n                />\n        </div>\n\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = ({newFilter, handleFilterChange}) => (\n  <input  value={newFilter}\n          onChange={handleFilterChange}\n  />\n)\n\nexport default Filter","import React from 'react'\nimport personService from '../services/persons'\n\nconst DelButton = ({person, setPersons, persons}) => {\n  const handleDelClick = () => {\n    const result = window.confirm(`Delete ${person.name}`)\n    if (result) {\n      personService\n        .remove(person.id)\n        .catch(e =>\n          alert(\"already removed\")\n        )\n      setPersons(persons.filter(p => p.id !== person.id))\n    } else window.alert(\"Operation cancelled\")\n  }\n  return (\n    <button onClick={handleDelClick}>delete</button>\n  )\n}\n\nconst Person = ({person, setPersons, persons}) => {\n  return (\n    <p>{person.name}  {person.number} <DelButton person={person} setPersons={setPersons} persons={persons}/></p>\n  )\n}\n\nconst PersonList = ({persons, filter, setPersons}) => {\n  const filtered = persons.filter(p => p.name.toLowerCase().includes(filter.toLowerCase()))\n  return(\n  <div>\n    {filtered.map(p => <Person key={p.name} person={p} setPersons={setPersons} persons={persons}/>)}\n  </div>\n  )\n}\n\nexport default PersonList","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport './App.css'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport PersonList from './components/PersonList'\n\nconst Notification = ({message}) => {\n  if (!message) return null\n  return (\n    <div className={`notification ${message.color}`}>\n      {message.msg}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ message, setMessage] = useState(null)\n\n  const getHook = () => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }\n\n  useEffect(getHook, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n\n    let isNameNew = (persons.filter(p => p.name===newName)).length === 0\n\n    if (isNameNew) {\n      const nameObj = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(nameObj)\n        .then(response => {\n          const returned = response.data\n          setPersons(persons.concat(returned))\n          setNewName('')\n          setNewNumber('')\n          setMessage({\n            msg: `Added ${returned.name}`,\n            color: 'green'\n          })\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch(e => {\n          setMessage({\n            msg: e.response.data,\n            color: 'red'\n          })\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000)\n        })\n    } else {\n      const res = window.confirm(`${newName} is already added. Replace old number?`)\n      if (res) {\n        const oldP = persons.find(p => p.name === newName)\n        const editedP = {...oldP, number: newNumber}\n        personService\n          .update(editedP.id, editedP)\n          .then(response => {\n            const returned = response.data\n            setPersons(persons.map(p=> p.name !== newName ? p : returned ) )\n            setMessage({\n              msg: `Changed number for ${returned.name}`,\n              color: 'green'\n            })\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setMessage({\n              msg: `Information of ${newName} has already been removed from server`,\n              color: 'red'\n            })\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n      } else {\n        window.alert(\"OK\")\n      }\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    const value = event.target.value\n    setNewFilter(value)\n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <p>filter shown with\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\n\n    </p>\n      <h2>add a new</h2>\n      <PersonForm addName={addName}\n                  newName={newName}\n                  newNumber={newNumber}\n                  handleNameChange={handleNameChange}\n                  handleNumberChange={handleNumberChange}\n                  />\n      <h2>Numbers</h2>\n      <PersonList persons={persons} filter={newFilter} setPersons={setPersons} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}